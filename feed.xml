<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
    <title>Gabriele Tips</title>
    <link href="https://gabriele.tips/feed.xml" rel="self" />
    <link href="https://gabriele.tips" />
    <updated>2023-08-06T00:50:05+02:00</updated>
    <author>
        <name>Gabriele</name>
    </author>
    <id>https://gabriele.tips</id>

    <entry>
        <title>Forse questa è la volta buona</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/forse-questa-e-la-volta-buona/"/>
        <id>https://gabriele.tips/forse-questa-e-la-volta-buona/</id>

        <updated>2023-08-06T00:50:05+02:00</updated>
            <summary>
                <![CDATA[
                    Questa storia nasce più o meno un anno fa, nell’agosto 2022 quando un po’ curioso e un po’ annoiato decisi di approfondire meglio il mondo dei generatori statici come Hugo, Jekyll e compagnia. Quando adottai Ghost come strumento per questo blog era ancora una piattaforma&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Questa storia nasce più o meno un anno fa, nell’agosto 2022 quando un po’ curioso e un po’ annoiato decisi di approfondire meglio il mondo dei generatori statici come Hugo, Jekyll e compagnia. </p>
<h2 id="voglio-solo-uno-spazio-dove-scrivere">Voglio solo uno spazio dove scrivere</h2>
<p>Quando adottai Ghost come strumento per questo blog era ancora una piattaforma dedicata al semplice blogging, ora il CMS si è trasformato in uno strumento per monetizzare contenuti e generare fidelizzazione, implementando tutto uno stack di iscrizioni a pagamento, newsletter, etc. Tutte cose che a me non servono.</p>
<p>In aggiunta a questo fastidio, la mia istanza ubuntu su cui gira questo macinino è arrivata praticamente a fine vita e avrei dovuto migrare il tutto per la seconda volta. A complicare il tutto, Hetzner ha aumentato il costo a ben 3.82 euro al mese. </p>
<p>E quindi iniziai guardarmi in giro e vedere un po’ questi strumenti per generare siti statici.</p>
<p>Una noiosa sera di un noioso agosto del 2022 mi misi a leggere qualche documentazione su Hugo e a cercare qualche tool di migrazione da Ghost a Hugo.</p>
<h2 id="ghosttohugo">GhostToHugo</h2>
<p>Alla fine tra bestemmie e martellate riuscii a migrare tutto il contenuto e nei giorni successivi feci un po’ di pratica con lo strumento.</p>
<p>Smaltito l’hype, mi resi conto abbastanza presto delle limitazioni della piattaforma: Hugo è un framework potentissimo ma richiede dedizione per ottenere ciò che si vuole.<br>Out of the box è semplicemente uno strumento che prende dei markdown e genera un sito in html. </p>
<p>La differenza tra un sito bello e un sito brutto la fa il template che decidi di utilizzare, e anche qui mi si è aperto un mondo (principalmente di bestemmie).<br>Il template non è solo l’aspetto del sito, si porta dietro tutta una serie di funzionalità di generazione della pagina che possono fare la differenza tra un sito con un punteggio PageSpeed di 30 rispetto ad un sito con 100, a parità di contenuto.</p>
<p>Questa cosa dei template è stata la parte che mi ha fatto più rosicare in assoluto, perché uno dei vantaggi di Ghost è la velocità. Il blog con Ghost è velocissimo, PageSpeed 100, seo friendly, etc. Passare da un tale gioiello ad un sito graficamente non solo meno accattivante, ma anche più lento e meno ottimizzato, mi ha fatto venire una forte avversione verso lo strumento.</p>
<p>Nonostante ciò riuscii a trovare un template molto carino e ben ottimizzato, con tutto quello che serviva, al netto dell’ottimizzazione delle immagini. Quelle purtroppo andavano “trattate” in formato web-friendly prima di essere caricate, per poter piacere al web.</p>
<p>Insomma, a parte qualche fastidio, alla fine riuscii ad avere il mio blog, statico, caricato su github a costo zero, pronto per lo switch…</p>
<p>…ma passò qualche giorno, poi qualche settimana, e alla fine non ne feci più nulla.</p>
<h2 id="it-works-but">It works, but…</h2>
<p>C’era qualcosa di questo setup che non mi convinceva al 100%. Hugo è potente, lo usano in tantissimi, ma dipendere da un template fatto da terzi per avere un buon ranking della qualità del sito? Passare a mano tutte le immagini con un tool?</p>
<p>Sì avrei potuto tranquillamente sbattermene le palle, ma c’era qualcosa che non mi convinceva, e alla fine ha prevalso lo status quo per un altro anno intero. Almeno, fino ad oggi.</p>
<p>Illuminato di nuovo dallo spirito santo della forza di volontà, e un po’ perché mi è ricapitato sotto al naso, ho provato a dare una chance ad uno strumento di publishing un po’ di nicchia: Publii (<a href="https://getpublii.com">https://getpublii.com</a>).</p>
<h2 id="publii">Publii</h2>
<p>Alcuni considerano Publii un abominio, né carne né pesce, il peggio dei due mondi.
Per me è “match made in heaven” per il mio caso d’uso.</p>
<p>Facendola breve, Publii è un app, desktop, per generare siti statici. </p>
<p><figure class="post__image"><img loading="lazy" src="https://gabriele.tips/media/posts/17/publii-cms-2.webp" alt="Publii" width="2502" height="1467"  sizes="100vw" srcset="https://gabriele.tips/media/posts/17/responsive/publii-cms-2-xs.webp 300w ,https://gabriele.tips/media/posts/17/responsive/publii-cms-2-sm.webp 480w ,https://gabriele.tips/media/posts/17/responsive/publii-cms-2-md.webp 768w ,https://gabriele.tips/media/posts/17/responsive/publii-cms-2-lg.webp 1024w ,https://gabriele.tips/media/posts/17/responsive/publii-cms-2-xl.webp 1360w ,https://gabriele.tips/media/posts/17/responsive/publii-cms-2-2xl.webp 1600w"></figure></p>
<p>Mette a disposizione un’interfaccia grafica come i classici CMS web per poter gestire i post e tutte le impostazioni del sito.<br>I contenuti possono essere creati in markdown, con un editor a blocchi o con il classico WYSIWYG. Per ogni post è possibile scegliere l’editor preferito.<br>Un semplice wall of text come questo? Markdown è perfetto.<br>Voglio creare una guida facendo attenzione a curare l’aspetto estetico? Uso il WYSIWYG.<br>Mi piace la merda? Uso l’editor a blocchi.<br>Markdown è veloce ma non offre molta libertà per contenuti più complessi.</p>
<p>Ma soprattutto, con mia immensa gioia, ho scoperto che Publii ottiene risultati anche migliori di Ghost con il template di default senza che io debba fare nulla:</p>
<p><figure class="post__image"><img loading="lazy" src="https://gabriele.tips/media/posts/17/Screenshot-2023-08-05-alle-17.13.07.png" alt="PageSpeed con Publii" width="1908" height="1434"  sizes="100vw" srcset="https://gabriele.tips/media/posts/17/responsive/Screenshot-2023-08-05-alle-17.13.07-xs.png 300w ,https://gabriele.tips/media/posts/17/responsive/Screenshot-2023-08-05-alle-17.13.07-sm.png 480w ,https://gabriele.tips/media/posts/17/responsive/Screenshot-2023-08-05-alle-17.13.07-md.png 768w ,https://gabriele.tips/media/posts/17/responsive/Screenshot-2023-08-05-alle-17.13.07-lg.png 1024w ,https://gabriele.tips/media/posts/17/responsive/Screenshot-2023-08-05-alle-17.13.07-xl.png 1360w ,https://gabriele.tips/media/posts/17/responsive/Screenshot-2023-08-05-alle-17.13.07-2xl.png 1600w"></figure></p>
<h2 id="ghosttopublii">GhostToPublii</h2>
<p>Purtroppo non esistono tool di migrazione da Ghost a Publii, ma quest’ultimo integra un importer per WP. Ho quindi preso l’export di Ghost (in json), convertito nel formato WP tramite un tool online, dato in pasto a Publii e in un attimo ha ricreato tutti i post.</p>
<p>Ho perso circa un paio d’ore di cazzeggio per rifinire le impostazioni del template per renderlo di mio gradimento e al termine l’ho pubblicato con un clic nel repo di GitHub.</p>
<p>Infine, mi sono deciso a fare il grande passo e fare definitivamente lo switch.<br>Il dominio principale di questo blog ora punta al sito statico generato da Publii. Il vecchio blog per ora è raggiungibile da <a href="https://old.gabriele.tips">https://old.gabriele.tips</a> se volete fare confronti. Credo lo terrò ancora un paio di mesi, per poi segare definitivamente l’istanza.</p>
<p>Se vi interessa ho archiviato qui la versione del blog che avevo creato con Hugo: <a href="https://github.com/gabry89/gabriele-tips-hugo">https://github.com/gabry89/gabriele-tips-hugo</a></p>
<h2 id="publii-or-not-publii">Publii or not Publii</h2>
<p>Nonostante Publii sia riuscito a convincermi a fare lo switch dedicandogli un paio d’ore della mia vita, mantengo delle riserve sullo strumento.<br>Come accennavo prima, è un po’ una nicchia, non ha un vasto pubblico e lo sviluppo non sembra correre veloce come Hugo o altri framework.<br>E’ comunque attivamente mantenuto e ha la sua piccola comunità.<br>Oggi c’è, funziona e fa quello che mi serve. Domani? Si vedrà.</p>

            ]]>
        </content>
    </entry>
    <entry>
        <title>Patch CVE-2013-3900 MS13-098 WinVerifyTrust</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/attivare-la-patch-cve-2013-3900-ms13-098-winverifytrust-in-windows-10-e-windows-11/"/>
        <id>https://gabriele.tips/attivare-la-patch-cve-2013-3900-ms13-098-winverifytrust-in-windows-10-e-windows-11/</id>

        <updated>2023-08-04T00:22:46+02:00</updated>
            <summary>
                <![CDATA[
                    Un articolo su una CVE del 2013, nel 2023. Purtroppo è necessario, perché ancora oggi non basta avere i sistemi Windows aggiornati per proteggersi da questa vulnerabilità, occorre implementare manualmente la correzione per abilitare la patch di sicurezza. Il 10 dicembre 2013 è stata pubblicata&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Un articolo su una CVE del 2013, nel 2023. Purtroppo è necessario, perché ancora oggi non basta avere i sistemi Windows aggiornati per proteggersi da questa vulnerabilità, occorre implementare manualmente la correzione per abilitare la patch di sicurezza.</p>
<h2 id="veloce-retrospettiva">Veloce retrospettiva</h2>
<p>Il 10 dicembre 2013 è stata pubblicata la CVE-2013-3900 relativa a una vulnerabilità nella convalida della firma di WinVerifyTrust, che consente agli aggressori di sfruttare il padding di una firma di Windows Authenticode per inserire codice non autorizzato.</p>
<p>La soluzione di Microsoft consisteva nell'offrire una soluzione "opt-in" che poteva essere attivata aggiungendo una coppia di chiavi di registro.</p>
<p>Questa modifica era stata inizialmente pianificata da Microsoft per diventare l'opzione predefinita, ma è stata ufficialmente abbandonata il 29 luglio 2014, probabilmente perché le modifiche causavano problemi nell'installazione di software firmato con Windows Authenticode.</p>
<h2 id="ritorno-al-futuro">Ritorno al futuro</h2>
<p>Dieci anni dopo, i sistemi Windows 10, Windows 11 e Windows Server soffrono della stessa vulnerabilità e, come dieci anni fa, è necessario implementare le chiavi di registro per attivare la patch che è disabilitata “by Design”.</p>
<h2 id="perch%C3%A9-oggi-%C3%A8-un-problema">Perché oggi è un problema</h2>
<p>Senza mezzi termini, questa vulnerabilità è sfruttata quotidianamente dagli attori criminali. Un esempio freschissimo? La violazione supply-chain con il client di 3CX. All’interno del client compromesso è presente una DLL “firmata da Microsoft” che in realtà contiene all’interno una shellcode.</p>
<figure class="kg-card kg-image-card"><a href="https://twitter.com/wdormann/status/1641448760546045954"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/16/Screenshot-2023-03-31-alle-11.33.34.png" sizes="(min-width: 720px) 720px" srcset="https://gabriele.tips/content/images/size/w600/2023/03/Screenshot-2023-03-31-alle-11.33.34.png 600w, https://gabriele.tips/content/images/size/w1000/2023/03/Screenshot-2023-03-31-alle-11.33.34.png 1000w, https://gabriele.tips/media/posts/16/Screenshot-2023-03-31-alle-11.33.34.png 1194w" alt="Screenshot di un tweet di Will Dormann. Clicca per aprire il tweet originale." width="1194" height="1090" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/16/responsive/Screenshot-2023-03-31-alle-11.33.34-xs.png 300w ,https://gabriele.tips/media/posts/16/responsive/Screenshot-2023-03-31-alle-11.33.34-sm.png 480w ,https://gabriele.tips/media/posts/16/responsive/Screenshot-2023-03-31-alle-11.33.34-md.png 768w ,https://gabriele.tips/media/posts/16/responsive/Screenshot-2023-03-31-alle-11.33.34-lg.png 1024w ,https://gabriele.tips/media/posts/16/responsive/Screenshot-2023-03-31-alle-11.33.34-xl.png 1360w ,https://gabriele.tips/media/posts/16/responsive/Screenshot-2023-03-31-alle-11.33.34-2xl.png 1600w"></figure></a></figure>
<h2 id="cosa-fare">Cosa fare</h2>
<p>Per abilitare la patch è sufficiente aggiungere due chiavi di registro e riavviare.</p>
<!--kg-card-begin: markdown-->
<pre><code>Windows Registry Editor Version</code> 5.00[HKEY_LOCAL_MACHINE\Software\Microsoft\Cryptography\Wintrust\Config]"EnableCertPaddingCheck"="1"[HKEY_LOCAL_MACHINE\Software\Wow6432Node\Microsoft\Cryptography\Wintrust\Config]"EnableCertPaddingCheck"="1"</pre>
<!--kg-card-end: markdown-->
<p>Qui trovate tutte le info nel dettaglio:</p>
<p><a href="https://msrc.microsoft.com/update-guide/vulnerability/CVE-2013-3900">https://msrc.microsoft.com/update-guide/vulnerability/CVE-2013-3900</a><br><br>A buon rendere!</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Configurare correttamente Microsoft Defender</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/configurare-correttamente-microsoft-defender/"/>
        <id>https://gabriele.tips/configurare-correttamente-microsoft-defender/</id>

        <updated>2023-08-04T17:17:08+02:00</updated>
            <summary>
                <![CDATA[
                    Windows include Microsoft Defender, un software antimalware integrato con il sistema in grado di proteggere il computer dalle minacce più recenti. Negli ultimi anni Microsoft ha fatto enormi investimenti ed evoluzioni per alzare il livello di sicurezza di base di Defender. I primi tentativi lasciavano&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Windows include Microsoft Defender, un software antimalware integrato con il sistema in grado di proteggere il computer dalle minacce più recenti.</p>
<p>Negli ultimi anni Microsoft ha fatto enormi investimenti ed evoluzioni per alzare il livello di sicurezza di base di Defender. I primi tentativi lasciavano un po' a desiderare, tuttavia recentemente è arrivato a competere con le soluzioni di protezione più famose e in alcuni casi ne esce persino migliore.</p>
<p>Defender, nella sua configurazione di base, offre una protezione che si potrebbe considerare già sopra la media, tuttavia nasconde delle opzioni che possono essere attivate manualmente per incrementare di molto il livello di protezione e la sicurezza dell'intero sistema.</p>
<p>Alcune di queste opzioni si attivano dalle Impostazioni di Windows, altre invece sono un po' più nascoste e si attivano solamente tramite dei comandi PowerShell.</p>
<p>Fortunatamente, esiste un semplice strumento di terze parti che permette di configurare tutte queste opzioni da una comoda interfaccia.</p>
<!--kg-card-begin: markdown-->
<p class="msg--highlight msg   msg--info">Se si possiede una soluzione di protezione a pagamento con l'abbonamento scaduto, occorre disinstallarla immediatamente. Una protezione in abbonamento senza licenza è totalmente inefficace e vi fornisce una falsa sensazione di sicurezza!</p>
<!--kg-card-end: markdown-->
<h3 id="configure-defender">Configure Defender</h3>
<p>Lo strumento si chiama Configure Defender e lo possiamo scaricare da questo repository GitHub. L'eseguibile da scaricare è "ConfigureDefender.exe".</p>
<p><a href="https://github.com/AndyFul/ConfigureDefender">https://github.com/AndyFul/ConfigureDefender</a></p>
<p>All'apertura veniamo accolti con una serie di pulsanti e selettori, raggruppati per sezioni.</p>
<figure class="kg-card kg-image-card kg-card-hascaption"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/15/image-1.png" sizes="(min-width: 720px) 720px" srcset="https://gabriele.tips/content/images/size/w600/2022/03/image-1.png 600w, https://gabriele.tips/media/posts/15/image-1.png 787w" alt="" width="787" height="863" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/15/responsive/image-1-xs.png 300w ,https://gabriele.tips/media/posts/15/responsive/image-1-sm.png 480w ,https://gabriele.tips/media/posts/15/responsive/image-1-md.png 768w ,https://gabriele.tips/media/posts/15/responsive/image-1-lg.png 1024w ,https://gabriele.tips/media/posts/15/responsive/image-1-xl.png 1360w ,https://gabriele.tips/media/posts/15/responsive/image-1-2xl.png 1600w"></figure>
<figcaption>L'interfaccia principale di ConfigureDefender</figcaption>
</figure>
<p>È possibile andare ad impostare ogni singola voce, oppure usare delle configurazione pre-impostate ottimali.</p>
<p>Nello specifico, l'impostazione che consiglio di attivare è <strong>HIGH</strong>.</p>
<p>L'impostazione HIGH attiva molte delle funzionalità di protezione contro gli exploit, attiva la Network Protection e molte delle regole di riduzione della superficie di attacco (ASR).</p>
<p><strong>Per attivarla è sufficiente cliccare su HIGH, attendere qualche secondo la comparsa della finestra di conferma e riavviare il computer.</strong></p>
<figure class="kg-card kg-image-card kg-card-hascaption"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/15/image-2.png" alt="" width="372" height="188" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/15/responsive/image-2-xs.png 300w ,https://gabriele.tips/media/posts/15/responsive/image-2-sm.png 480w ,https://gabriele.tips/media/posts/15/responsive/image-2-md.png 768w ,https://gabriele.tips/media/posts/15/responsive/image-2-lg.png 1024w ,https://gabriele.tips/media/posts/15/responsive/image-2-xl.png 1360w ,https://gabriele.tips/media/posts/15/responsive/image-2-2xl.png 1600w"></figure>
<figcaption>Avviso di conferma di avvenuta configurazione</figcaption>
</figure>
<p><strong>Fatto! In pochi minuti avete appena eseguito un aggiornamento veramente sostanziale a Microsoft Defender e alla sicurezza del vostro computer.</strong></p>
<!--kg-card-begin: markdown-->
<p class="msg--highlight msg ">Questa configurazione funziona solamente se non sono presenti altre soluzioni di protezione antivirus installate nel sistema (es. McAfee, Norton, etc...).</p>
<!--kg-card-end: markdown-->
<p>Ma cosa abbiamo fatto? Se siete curiosi, vediamo un po' nel dettaglio qualche impostazione.</p>
<h3 id="funzionalit%C3%A0-antimalware-attivate-con-limpostazione-high">Funzionalità antimalware attivate con l'impostazione HIGH</h3>
<p><strong>PUA Protection [On]</strong></p>
<p>Le applicazioni potenzialmente indesiderate (PUA) sono una categoria di software che può rallentare il funzionamento del computer, visualizzare annunci indesiderati o, nel peggiore dei casi, installare altro software senza il vostro consenso. Protezione imprescindibile.</p>
<p><em>Approfondimento tecnico: </em></p>
<p><a href="https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/detect-block-potentially-unwanted-apps-microsoft-defender-antivirus?view=o365-worldwide">https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/detect-block-potentially-unwanted-apps-microsoft-defender-antivirus?view=o365-worldwide</a></p>
<p><strong>Cloud Protection Level [Highest]</strong></p>
<p>La protezione Cloud è la forma di protezione più avanzata presente nei moderni antivirus e antimalware. Usa la potenza di elaborazione del Cloud per determinare se un file è o meno una minaccia. Per farla breve, abbiamo girato la manopola un po' più aggressiva.</p>
<p><em>Approfondimento tecnico:</em></p>
<p><a href="https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/specify-cloud-protection-level-microsoft-defender-antivirus?view=o365-worldwide">https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/specify-cloud-protection-level-microsoft-defender-antivirus?view=o365-worldwide</a></p>
<p><strong>Cloud Check Time Limit [20s]</strong></p>
<p>Quando Microsoft Defender trova un nuovo file sospetto, può impedire l'esecuzione del file mentre verifica sul servizio Cloud di protezione l'esito della scansione. Questa funzione si chiama BAFS (Block At First Sight).</p>
<p>Il periodo predefinito per il blocco del file è di 10 secondi, con questa impostazione l'abbiamo portato ad un massimo 20 secondi.</p>
<p>Terminati i 20 secondi, se Defender non ha ancora ricevuto una risposta, il file verrà sbloccato ed eseguito, ma la scansione continuerà comunque nel Cloud fino alla ricezione del risultato. Se dovesse risultare malevolo dopo i 20 secondi, il file verrà inserito in quarantena.</p>
<p>Nella maggior parte dei casi, il risultato della scansione Cloud avviene ben prima dei 20 secondi.</p>
<p><em>Approfondimento tecnico:</em></p>
<p><a href="https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/configure-cloud-block-timeout-period-microsoft-defender-antivirus?view=o365-worldwide">https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/configure-cloud-block-timeout-period-microsoft-defender-antivirus?view=o365-worldwide</a></p>
<p><strong>EXPLOIT GUARD Attack Surface Reduction (ASR)</strong></p>
<p>Nella sezione EXPLOIT GUARD di Configure Defender vengono riportate tutte le impostazioni attivate per la riduzione della superficie di attacco.</p>
<figure class="kg-card kg-image-card kg-card-hascaption"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/15/image-3.png" sizes="(min-width: 720px) 720px" srcset="https://gabriele.tips/content/images/size/w600/2022/03/image-3.png 600w, https://gabriele.tips/media/posts/15/image-3.png 787w" alt="" width="787" height="861" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/15/responsive/image-3-xs.png 300w ,https://gabriele.tips/media/posts/15/responsive/image-3-sm.png 480w ,https://gabriele.tips/media/posts/15/responsive/image-3-md.png 768w ,https://gabriele.tips/media/posts/15/responsive/image-3-lg.png 1024w ,https://gabriele.tips/media/posts/15/responsive/image-3-xl.png 1360w ,https://gabriele.tips/media/posts/15/responsive/image-3-2xl.png 1600w"></figure>
<figcaption>Sezione relativa alle regole ASR</figcaption>
</figure>
<p>Queste funzionalità di riduzione della superficie di attacco sono l'introduzione più interessante fatta da Microsoft negli ultimi anni. Le regole ASR mirano a chiudere o disattivare funzionalità di sistema pericolose che non vengono quasi mai usate dagli utenti, ma vengono spesso abusate dai malware per eseguire comandi malevoli e ottenere l'accesso al computer.</p>
<p>Per dirla breve, mette le sbarre a quella finestra che non usate mai e non sapete di avere, ma che fa tanto gola ai ladri.</p>
<p>Le regole ASR sono numerose e la loro spiegazione nel dettaglio può risultare complessa per chi non è molto pratico. Oltretutto, l'attivazione di una regola ASR può comportare dei falsi positivi, ovvero il blocco del funzionamento di una applicazione benigna.</p>
<p>La configurazione a HIGH attiva solamente le regole ASR che nel 99% dei casi non causano problemi nell'uso quotidiano, ma bloccano la stragrande maggioranza delle funzionalità di Windows usate dai malware. Per fare qualche esempio:</p>
<ul>
<li>impedisce alle macro di Office di fare chiamate di sistema pericolose</li>
<li>impedisce agli scripts di lanciare eseguibili scaricati da internet</li>
<li>impedisce l'esecuzione di scripts offuscati, spesso nascosti negli allegati e-mail</li>
<li>blocca l'esecuzione di processi non firmati da chiavette USB</li>
</ul>
<p>La lista delle regole ASR è in costante aumento e verranno introdotte molte altre regole nel prossimo futuro.</p>
<p><em>Approfondimento tecnico:</em></p>
<p><a href="https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/attack-surface-reduction-rules-reference?view=o365-worldwide">https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/attack-surface-reduction-rules-reference?view=o365-worldwide</a></p>
<p><em>Se volete leggere l'esperienza di un team tecnico che ha implementato le ASR in ambiente business corporate:</em></p>
<p><a href="https://blog.palantir.com/microsoft-defender-attack-surface-reduction-recommendations-a5c7d41c3cf8">https://blog.palantir.com/microsoft-defender-attack-surface-reduction-recommendations-a5c7d41c3cf8</a></p>
<p><strong>Network Protection [ON]</strong></p>
<p>La Network Protection è abbastanza parlante e il suo funzionamento è molto semplice: impedisce di accedere a domini e IP pericolosi come phishing, scam e siti che ospitano malware.</p>
<figure class="kg-card kg-image-card kg-card-hascaption"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/15/image-4.png" alt="" width="567" height="418" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/15/responsive/image-4-xs.png 300w ,https://gabriele.tips/media/posts/15/responsive/image-4-sm.png 480w ,https://gabriele.tips/media/posts/15/responsive/image-4-md.png 768w ,https://gabriele.tips/media/posts/15/responsive/image-4-lg.png 1024w ,https://gabriele.tips/media/posts/15/responsive/image-4-xl.png 1360w ,https://gabriele.tips/media/posts/15/responsive/image-4-2xl.png 1600w"></figure>
<figcaption>Notifica di blocco</figcaption>
</figure>
<h3 id="altre-impostazioni-avanzate-per-esperti">Altre impostazioni avanzate per esperti</h3>
<p>Come avrete notato, Microsoft Defender presenta molte altre funzioni che la configurazione HIGH non ha attivato. Sono funzioni avanzate, che possono generare falsi positivi se non vengono gestite correttamente.</p>
<p>Consiglio di approfondire il funzionamento solo se si è consapevoli e se sapete fare una ricerca tecnica su Google.</p>
<p>Per esempio la funzione di Controlled Folder Access permette di impedire ai ransomware di cifrare le cartelle dei documenti, ma la protezione è estremamente severa e il rischio di bloccare l'accesso ad applicazioni sicure è molto frequente. Attivatela solo se siete disposti a voler gestire qualche falso positivo da aggiungere alle esclusioni.</p>
<p>Volendo è possibile impostare Defender in modalità "paranoia", bloccando tutti gli eseguibili che non hanno raggiunto un certo livello di prevalenza, età o non vengano aggiunti ad una lista sicura da parte di Microsoft.</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/15/image-5.png" sizes="(min-width: 720px) 720px" srcset="https://gabriele.tips/content/images/size/w600/2022/03/image-5.png 600w, https://gabriele.tips/media/posts/15/image-5.png 721w" alt="" width="721" height="94" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/15/responsive/image-5-xs.png 300w ,https://gabriele.tips/media/posts/15/responsive/image-5-sm.png 480w ,https://gabriele.tips/media/posts/15/responsive/image-5-md.png 768w ,https://gabriele.tips/media/posts/15/responsive/image-5-lg.png 1024w ,https://gabriele.tips/media/posts/15/responsive/image-5-xl.png 1360w ,https://gabriele.tips/media/posts/15/responsive/image-5-2xl.png 1600w"></figure></figure>
<p>È una funzionalità estremamente utile per i computer che necessitano di un livello di protezione senza compromessi, ma il rischio di vedersi bloccato qualche aggiornamento di un software che usate solo voi e pochi altri è estremamente elevato.</p>
<h3 id="testare-il-corretto-funzionamento">Testare il corretto funzionamento</h3>
<p>La configurazione proposta è pensata per un uso massivo comune e non dovrebbe causare falsi positivi nell'uso quotidiano. Nello specifico, l'unica parte che potrebbe causare qualche falso positivo in qualche caso specifico sono le regole ASR, ma mi vengono in mente solo scenari aziendali con software particolari tipo gestionali balordi mal progettati o macro incredibilmente complesse che operano ad un livello molto integrato con il sistema.</p>
<p>Per un uso domestico o piccolo ufficio, questa configurazione garantisce un aumento considerevole della sicurezza con un rischio pressoché nullo di falsi positivi.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Furto dati ho. Mobile – Cosa rischio? Cosa fare?</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/furto-dati-ho-mobile-cosa-rischio-cosa-fare/"/>
        <id>https://gabriele.tips/furto-dati-ho-mobile-cosa-rischio-cosa-fare/</id>

        <updated>2023-08-03T23:40:43+02:00</updated>
            <summary>
                <![CDATA[
                    Probabilmente ne avrete sentito parlare, il 28 dicembre un utente anonimo su un forum del dark web affermava di aver violato l’operatore virtuale di Vodafone, “ho. Mobile”, rubando una notevole quantità di dati personali tra nome, cognome, numero di telefono, codice fiscale, e-mail, data e&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <figure class="kg-image">Probabilmente ne avrete sentito parlare, il 28 dicembre un utente anonimo su un forum del dark web affermava di aver violato l’operatore virtuale di Vodafone, “ho. Mobile”, rubando una notevole quantità di dati personali tra nome, cognome, numero di telefono, codice fiscale, e-mail, data e luogo di nascita, nazionalità e indirizzo e ultimo, ma non meno importante, il codice ICCID della SIM per effettuare la portabilità del numero ad un altro operatore.<figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/14/image.png"  alt loading="lazy" width="592" height="566" sizes="100vw" srcset="https://gabriele.tips/media/posts/14/responsive/image-xs.png 300w ,https://gabriele.tips/media/posts/14/responsive/image-sm.png 480w ,https://gabriele.tips/media/posts/14/responsive/image-md.png 768w ,https://gabriele.tips/media/posts/14/responsive/image-lg.png 1024w ,https://gabriele.tips/media/posts/14/responsive/image-xl.png 1360w ,https://gabriele.tips/media/posts/14/responsive/image-2xl.png 1600w"></figure></figure><figure class="kg-image">Dopo le prime smentite da parte dell’operatore, oggi è arrivata la conferma della violazione con un comunicato ufficiale che trovate a questa pagina: <a href="https://sendy.logotel.it/l/K64763I7GOqtsi7Z892fEC2xUQ/hFNWHsGh2r56vc8wtvPXfg/ctbpaBfqUDNAywODAY9cTg">https://www.ho-mobile.it/comunicazione/</a><p><strong>Sono utente di "ho. Mobile", mi devo preoccupare? Cosa rischio? 📱</strong></p><p>I dati che sono stati rubati sono una lista piuttosto dettagliata di informazioni personali, quindi i criminali ora hanno nome, cognome, indirizzo fisico, indirizzo mail, numero di telefono e codice fiscale di due milioni e mezzo di italiani. Questi dati possono essere utilizzati in futuro per attacchi di phishing mirati e furti di identità.</p><p><strong>Devo fare qualcosa per proteggermi? 🛡</strong></p><p>È importante prepararsi ad un possibile aumento ti attacchi costruiti sulla base dei dati personali rubati. Non fidatevi di SMS o di mail dove vi viene chiesto di reinserire le credenziali per l’accesso ai vostri account bancari, o di inserire il numero della carta di credito per sbloccare un pagamento. Nel dubbio, fate sempre una verifica chiamando la banca o il servizio da cui avete ricevuto il messaggio per informarli della comunicazione ricevuta e verificarne l'autenticità. Reperite sempre i numeri di telefono e gli indirizzi mail dai siti ufficiali.</p><p><strong>Non ho ancora ricevuto la comunicazione diretta da parte di "ho. Mobile". L’ho scampata? 🖖</strong></p><p>No. Secondo le prime verifiche ufficiose, il database comprende circa due milioni e mezzo di utenti e sembrerebbe coinvolgere l’intera base di clienti di "ho. Mobile". Il comunicato ufficiale è stato rilasciato solamente questa mattina e la comunicazione ai diretti interessati sta iniziando ad arrivare proprio in queste ore tramite SMS.</p><figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/14/1609767079.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/14/responsive/1609767079-xs.png 300w ,https://gabriele.tips/media/posts/14/responsive/1609767079-sm.png 480w ,https://gabriele.tips/media/posts/14/responsive/1609767079-md.png 768w ,https://gabriele.tips/media/posts/14/responsive/1609767079-lg.png 1024w ,https://gabriele.tips/media/posts/14/responsive/1609767079-xl.png 1360w ,https://gabriele.tips/media/posts/14/responsive/1609767079-2xl.png 1600w"></figure></figure><p><strong>Ho letto che possono rubarmi il conto in banca, è vero? 💸</strong></p><p>Estremamente improbabile, ma non impossibile.</p><p>Tra i dati rubati c’era anche un numero, chiamato ICCID. Questo numero è una specie di seriale univoco della SIM e con quello è possibile effettuare la migrazione del proprio numero di telefono ad un nuovo operatore. Questo numero in mano a malintenzionati apre le porte ad un attacco molto pericoloso: il SIM swapping. Questa tecnica fraudolenta permette ad un malintenzionato di richiedere la portabilità verso un altro operatore con lo scopo di dirottare gli SMS, usati oggi per l’autenticazione a due fattori di molte banche, verso una nuova SIM di sua proprietà.</p><p>Perché è improbabile che accada a noi a causa di questo breach? Perché questo tipo di attacco non può essere scalato velocemente su due milioni e mezzo di utenti, come potrebbe esserlo un furto di account di mail. Richiede l’intervento di un provider telefonico compiacente che effettua la portabilità senza verifica di un documento d’identità. È una tipologia di attacco mirato nei nostri confronti. Insomma, qualcuno che ha pescato da un mazzo di due milioni di carte, proprio la nostra. </p><p><strong>Per quanto riguarda la protezione da SIM swapping, posso fare qualcosa? 📴</strong></p><p>Per arginare questa pratica illecita la soluzione più facile è quella di richiedere la sostituzione della SIM presso i punti vendita "ho. Mobile" autorizzati. <a href="https://sendy.logotel.it/l/K64763I7GOqtsi7Z892fEC2xUQ/kUMXOcASt1oDsw8FbacaDw/ctbpaBfqUDNAywODAY9cTg">https://www.ho-mobile.it/trova-negozio.html</a></p><p><strong>Non mi fido più di "ho. Mobile". Posso cambiare operatore? 📶</strong></p><p>Sì, ma farlo ora è sconsigliato perché la procedura potrebbe non andare a buon fine. Stanno arrivando segnalazioni di utenti che stanno ricevendo esito negativo della loro richiesta di portabilità. È probabile che "ho. Mobile" abbia temporaneamente bloccato le portabilità verso altro operatore per arginare il problema del SIM swapping. Se non vi sentite sicuri, vi consiglio temporaneamente di cambiare SIM e quando la situazione si sarà calmata, procedere al cambio di operatore.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Assistenza Rapida con Windows 10</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/assistenza-rapida-con-windows-10/"/>
        <id>https://gabriele.tips/assistenza-rapida-con-windows-10/</id>

        <updated>2023-08-03T23:40:43+02:00</updated>
            <summary>
                <![CDATA[
                    Windows 10 integra di base un comodo strumento per poter offrire assistenza remota, senza dover scaricare software di terze parti come i più famosi TeamViewer o AnyDesk.Il software in questione si chiama proprio Assistenza Rapida, ed è facilmente raggiungibile dal menu Start nella cartella Accessori&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <figure class="kg-image">Windows 10 integra di base un comodo strumento per poter offrire assistenza remota, senza dover scaricare software di terze parti come i più famosi TeamViewer o AnyDesk.<p>Il software in questione si chiama proprio <strong>Assistenza Rapida</strong>, ed è facilmente raggiungibile dal menu <strong>Start</strong>  nella cartella <strong>Accessori Windows</strong> e cliccando su <strong>Assistenza rapida</strong>, oppure cliccando il pulsante <strong>Start</strong> e digitando <strong>Assistenza rapida</strong> nella casella di ricerca.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://gabriele.tips/media/posts/13/immagine-1.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/13/responsive/immagine-1-xs.png 300w ,https://gabriele.tips/media/posts/13/responsive/immagine-1-sm.png 480w ,https://gabriele.tips/media/posts/13/responsive/immagine-1-md.png 768w ,https://gabriele.tips/media/posts/13/responsive/immagine-1-lg.png 1024w ,https://gabriele.tips/media/posts/13/responsive/immagine-1-xl.png 1360w ,https://gabriele.tips/media/posts/13/responsive/immagine-1-2xl.png 1600w"></figure><figcaption>Assistenza Rapida nel menu Start</figcaption></figure><h3 id="come-funziona">Come funziona?</h3><figure class="kg-image">Lo strumento è estremamente semplice: chi offre assistenza clicca su <strong>Aiuta un'altra persona</strong>, generando così un codice da inviare alla persona da aiutare. Questa persona inserisce il codice nel campo <strong>Codice dall'assistente</strong> e nel giro di pochi clic è possibile vedere il PC remoto o prenderne il controllo, a seconda dei permessi concessi.<figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://gabriele.tips/media/posts/13/immagine-2.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/13/responsive/immagine-2-xs.png 300w ,https://gabriele.tips/media/posts/13/responsive/immagine-2-sm.png 480w ,https://gabriele.tips/media/posts/13/responsive/immagine-2-md.png 768w ,https://gabriele.tips/media/posts/13/responsive/immagine-2-lg.png 1024w ,https://gabriele.tips/media/posts/13/responsive/immagine-2-xl.png 1360w ,https://gabriele.tips/media/posts/13/responsive/immagine-2-2xl.png 1600w"></figure><figcaption>Finestra di Assistenza Rapida</figcaption></figure><p>Personalmente l'ho utilizzato in diverse occasioni e l'ho trovato molto pratico, soprattutto per abbattere i tempi morti iniziali, spesso causati dal dover spiegare a persone non tecnicamente brillanti come scaricare correttamente il software di assistenza da internet. </p><p>Quante volte hanno "aperto Google" e alla fine non era Google? </p><p>Ecco, ci siamo capiti.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Privacy Policy</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/privacy-policy/"/>
        <id>https://gabriele.tips/privacy-policy/</id>

        <updated>2023-08-06T00:47:17+02:00</updated>
            <summary>
                <![CDATA[
                    Qui non ci sono tracker, annunci e cookie di nessun genere. Il sito è generato con Publii e ospitato su Cloudflare Pages. Se consideri Cloudflare Pages lesivo della tua privacy, premi Ctrl + W (con Mac Command + W) per caricare una versione alternativa. Buona&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Qui non ci sono tracker, annunci e cookie di nessun genere.</p>
<p>Il sito è generato con <a href="https://getpublii.com" target="_blank" rel="noopener noreferrer">Publii</a> e ospitato su Cloudflare Pages.<br>Se consideri Cloudflare Pages lesivo della tua privacy, premi <code>Ctrl + W</code> (con Mac <code>Command + W</code>) per caricare una versione alternativa.</p>
<p>Buona lettura!</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Nuova casa per il blog</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/nuova-casa-per-il-blog/"/>
        <id>https://gabriele.tips/nuova-casa-per-il-blog/</id>

        <updated>2023-08-03T23:40:43+02:00</updated>
            <summary>
                <![CDATA[
                    In una sera di noia, ho trasferito questo blog e il dominio su una nuova infrastruttura per ottimizzare la gestione e i costi.Come avevo scritto tempo fa, la macchina che ospitava il blog era una piccola EC2 t2.micro su AWS, mentre il dominio era registrato&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <figure class="kg-image">In una sera di noia, ho trasferito questo blog e il dominio su una nuova infrastruttura per ottimizzare la gestione e i costi.<p>Come avevo scritto tempo fa, la macchina che ospitava il blog era una piccola EC2 t2.micro su AWS, mentre il dominio era registrato su Route 53.</p><p>Ben presto mi sono reso conto che AWS non è per nulla economico e i costi sono anche imprevendibili, perché ogni risorsa viene calcolata in modo preciso in base all'uso. Se si ha tanto traffico, si paga di più perché le risorse computazionali e di data transfer sono superiori. A questi livelli il delta è di un paio di euro al massimo, ma è comunque fastidioso per uno spazio di cazzeggio personale. </p><p>Con il setup su AWS, questo blog mi costava circa 14€ al mese, sommando EC2, transfer e zona DNS di Route53.</p><figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/11/2020-02-23-14_49_48-Billing-Management-Console.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_49_48-Billing-Management-Console-xs.png 300w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_49_48-Billing-Management-Console-sm.png 480w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_49_48-Billing-Management-Console-md.png 768w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_49_48-Billing-Management-Console-lg.png 1024w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_49_48-Billing-Management-Console-xl.png 1360w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_49_48-Billing-Management-Console-2xl.png 1600w"></figure></figure><figure class="kg-image">Ho mantenuto questa situazione per tanto tempo, a causa della mia inestimabile pigrizia. Il mio obiettivo principale era quello di migrare Ghost ad un CMS statico, ma dopo mesi di ricerca non sono ancora riuscito a trovare un setup pratico che mi abbia convinto ad abbandonare Ghost. <p>Preso in un momento di buona produttività, ho abbandonato temporaneamente l'idea di staticizzare il blog e mi sono messo d'impegno almeno per migrarlo ad un servizio più economico: ho creato su <a href="https://www.hetzner.com/cloud">Hetzner</a> un VPS, in pochi minuti ho tirato su un Ghost pulito, import del backup in JSON dal vecchio blog, import della cartella dei media, cambio dei DNS e in poco più di un'oretta avevo il blog up & running su una nuova macchina, il cui costo è di 3.65€ al mese.</p><figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/11/2020-02-23-14_51_51-Microsoft-Store.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_51_51-Microsoft-Store-xs.png 300w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_51_51-Microsoft-Store-sm.png 480w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_51_51-Microsoft-Store-md.png 768w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_51_51-Microsoft-Store-lg.png 1024w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_51_51-Microsoft-Store-xl.png 1360w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-14_51_51-Microsoft-Store-2xl.png 1600w"></figure></figure><figure class="kg-image">Il passaggio successivo è stata la migrazione del dominio, per smettere di pagare 0.50$ al mese di zona DNS di Route53.<p>Avendo un TLD poco comune, sono andato su <a href="https://tld-list.com">tld-list.com</a> e ho ordinato per transfer e renew più economici.</p><figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/11/2020-02-23-15_01_31-Cheapest-.tips-Domain-Registration--Renewal--Transfer-Prices-_-TLD-List.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/11/responsive/2020-02-23-15_01_31-Cheapest-.tips-Domain-Registration--Renewal--Transfer-Prices-_-TLD-List-xs.png 300w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-15_01_31-Cheapest-.tips-Domain-Registration--Renewal--Transfer-Prices-_-TLD-List-sm.png 480w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-15_01_31-Cheapest-.tips-Domain-Registration--Renewal--Transfer-Prices-_-TLD-List-md.png 768w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-15_01_31-Cheapest-.tips-Domain-Registration--Renewal--Transfer-Prices-_-TLD-List-lg.png 1024w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-15_01_31-Cheapest-.tips-Domain-Registration--Renewal--Transfer-Prices-_-TLD-List-xl.png 1360w ,https://gabriele.tips/media/posts/11/responsive/2020-02-23-15_01_31-Cheapest-.tips-Domain-Registration--Renewal--Transfer-Prices-_-TLD-List-2xl.png 1600w"></figure></figure><p>Detto fatto, anche qui in meno di mezz'ora ho effettuato il transfer del dominio da Route53 a Porkbun 🐷. (tra l'altro è davvero figo porkbun, esperienza ottima!)</p><p>Al termine, ho eliminato tutti i servizi attivi su AWS. 👋🏻</p><p>Next step: staticizzare il blog e azzerare i costi, ma per quello vedremo più avanti...</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Fastweb FTTH e Modem Libero</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/fastweb-ftth-e-modem-libero/"/>
        <id>https://gabriele.tips/fastweb-ftth-e-modem-libero/</id>

        <updated>2023-08-04T17:19:56+02:00</updated>
            <summary>
                <![CDATA[
                    AGGIORNAMENTO del 01/03/2020 Questo articolo è stato scritto diversi mesi fa. Potrebbe non essere più attuale e potrebbe consigliare procedure non più attuabili con i nuovi router e le nuove attivazioni Fastweb. ARTICOLO ORIGINALE Con l’entrata in vigore della delibera AGCOM n. 348/18/CONS sul modem&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p><strong>AGGIORNAMENTO del 01/03/2020</strong></p>
<p>Questo articolo è stato scritto diversi mesi fa. Potrebbe non essere più attuale e potrebbe consigliare procedure non più attuabili con i nuovi router e le nuove attivazioni Fastweb.</p>
<p><strong>ARTICOLO ORIGINALE</strong></p>
<p>Con l’entrata in vigore della delibera AGCOM n. 348/18/CONS sul modem libero, gli operatori di rete fissa sono stati obbligati a rilasciare tutti i parametri relativi alla corretta configurazione di un modem alternativo a quello fornito dall'operatore.</p>
<p>Purtroppo la realtà dei fatti è che non tutti gli operatori hanno risposto in modo efficiente. Tra questi c'è Fastweb che ha interpretato "a modo suo" la delibera, soprattutto in ambito FTTH.</p>
<p>Se andiamo a leggere nella <a href="https://www.fastweb.it/adsl-fibra-ottica/dettagli/altri-modem/">pagina dedicata alla delibera</a> sul sito di Fastweb, si legge:</p>
<p class="msg msg--info">Nel caso di <strong>Fibra</strong>, l'apparato scelto dal cliente alternativo al FASTGate deve essere collegato alla terminazione ottica (ONT) fornita da Fastweb mediante un cavo di rete Ethernet Categoria 5e o superiore alla porta WAN Ethernet.</p>
<p>Insomma, non proprio chiarissimo. Ma soprattutto, se oggi prendete il vostro bel cavo in fibra ottica, prendete il vostro <s>modem</s> router e lo collegate al posto del FASTGate fornito da Fastweb, usando solo le informazioni riportate sul sito, il risultato è che non succede proprio nulla.</p>
<p><strong>Fastweb ha mentito? Non direi</strong>. Diciamo che ha omesso tipo quelle due o tre informazioni utili a far funzionare il tutto. Nel momento in cui vi scrivo infatti è possibile usare un router alternativo al FASTGate, a patto di spendere qualche soldino e rispettare un po' di requisiti tecnici.</p>
<h2 id="requisiti">Requisiti</h2>
<p>Partiamo da quel poco che ci dice Fastweb, ovvero che <em>"l'apparato [...] deve essere collegato alla terminazione ottica (ONT) [...] con un cavo di rete [...] alla porta WAN"</em>.</p>
<p>L'ONT fornita da Fastweb è quella piccola terminazione di metallo che collega il cavo in fibra ottica direttamente al router.</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/IMG_20190403_224147.resized.jpg" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/IMG_20190403_224147.resized-xs.jpg 300w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_224147.resized-sm.jpg 480w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_224147.resized-md.jpg 768w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_224147.resized-lg.jpg 1024w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_224147.resized-xl.jpg 1360w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_224147.resized-2xl.jpg 1600w"></figure></figure>
<p>Questo piccolo stick è un trasmettitore che invia e riceve segnali luminosi sulla fibra ottica e li trasforma in impulsi elettrici, interpretabili dal router. L'ONT va collegato alla porta WAN del router con un cavo di rete, quindi... serve un <strong>convertitore</strong>!</p>
<h3 id="tp-link-mediaconverter-mc220l">TP-Link MediaConverter MC220L</h3>
<p>L'MC220L di TP-Link è attualmente il miglior MediaConverter che potete acquistare per questo caso d'uso. Il costo è inferiore ai 30 euro.</p>
<figure class="kg-card kg-image-card kg-card-hascaption"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/image-1.png" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/image-1-xs.png 300w ,https://gabriele.tips/media/posts/9/responsive/image-1-sm.png 480w ,https://gabriele.tips/media/posts/9/responsive/image-1-md.png 768w ,https://gabriele.tips/media/posts/9/responsive/image-1-lg.png 1024w ,https://gabriele.tips/media/posts/9/responsive/image-1-xl.png 1360w ,https://gabriele.tips/media/posts/9/responsive/image-1-2xl.png 1600w"></figure>
<figcaption>TP-Link MediaConverter MC220L</figcaption>
</figure>
<p>È un dispositivo abbastanza stupido nel suo funzionamento. Ha due porte: in una ci mettete la ONT di Fastweb, nell'altra ci mettete il cavo di rete che va al vostro router. Fine. Non ha setup, non ha IP, non ha pagine di configurazioni.</p>
<p>Secondo Fastweb, dovrebbe essere finita qui (lol). In pratica, manca un enorme dettaglio, ovvero quali parametri inserire nella porta WAN del router che andremo ad usare.</p>
<h3 id="scelta-del-router-">Scelta del router...</h3>
<p>Se state già pensando di usare il vostro Netgear di 10 anni fa o il TP-Link da 15 euro comprato al Black-Friday, scordatevelo! <strong>Il primo requisito</strong> del router da usare per sostituire il FASTGate è che sia <strong>performante</strong>, perché deve essere in grado di gestire un traffico NAT WAN-to-LAN di 1Gbps.</p>
<p>Ebbene sì, benvenuti nel magico mondo delle connessioni domestiche ultra-veloci, dove anche in casa servono router carrozzati e performanti per poter sfruttare tutta la banda offerta dal provider.</p>
<p>Se volete sapere a grandi linee le performance del router che avete o che volete acquistare, potete fare riferimento a questa tabella comparativa di SmallNetBuilder:</p>
<p><a href="https://www.smallnetbuilder.com/tools/charts/router/bar/179-wan-to-lan-tcp/35">https://www.smallnetbuilder.com/tools/charts/router/bar/179-wan-to-lan-tcp/35</a></p>
<p>Questo però non è l'unico requisito che il router deve rispettare. Ce n'è un altro, che è fondamentale.</p>
<h3 id="-con-supporto-dhcp-option-60-sulla-wan">...con supporto dhcp option 60 sulla WAN</h3>
<p>Per sostituire il FASTGate con un router qualsiasi e far sì che funzioni, quest'ultimo deve "annunciarsi" come se fosse il FASTGate. Per fare questa cosa, occorre impostare alcuni <strong>parametri personalizzati</strong> nel dhcp-client della WAN, ovvero il servizio che richiede l'IP al provider in fase di connessione.</p>
<p>Nello specifico il parametro da configurare è l'Option 60 <code>vendor-class-identifier</code> del dhcp.</p>
<p>Ecco, questa non è una cosa proprio diffusa. È difficile trovare dei router ad uso consumer con questa opzione configurabile. In genere tutto ciò che è basato su OpenWRT e similari e/o ha una CLI, ha la possibilità di abilitare questo parametro. Non vorrei dirvi una stupidata ma gli ultimissimi Netgear consumer di fascia alta (300+ euro) dovrebbero supportare questi parametri, ma non fidatevi di me. Verificate.<br>In genere queste opzioni sono facilmente configurabili su router SOHO/professionali tipo MikroTik, Ubiquiti EdgeRouter, tutto ciò che è basato su OpenWRT, pfSense, etc...</p>
<h3 id="recap-dei-requisiti">Recap dei requisiti</h3>
<p>Quindi, punto elenco rapido di quello che serve:</p>
<!--kg-card-begin: markdown-->
<ul>
<li>Un MediaConverter per collegare la ONT originale fornita da Fastweb</li>
<li>Un router performante...</li>
<li>...che supporti la dhcp option 60 (vendor class identifier) sulla WAN</li>
</ul>
<!--kg-card-end: markdown-->
<p>Detto ciò, vediamo nel concreto.</p>
<h2 id="tempo-di-spendere-soldi-e-collegare-due-cavi">Tempo di spendere soldi e collegare due cavi</h2>
<p>Per il mio setup ho scelto di riciclare un vecchio Ubiquiti EdgeRouter-Lite che avevo nel cassetto. Per mia fortuna è un router che supporta tutti i parametri che servono e grazie all'accelerazione hardware riesce tranquillamente a gestire un throughput di 1 Gbps. Non ha il WiFi, ma per quello avevo già intenzione di prendermi un UniFi nanoHD, che per l'occasione ho acquistato insieme al MediaConverter.</p>
<figure class="kg-card kg-gallery-card kg-width-wide">
<div class="kg-gallery-container">
<div class="kg-gallery-row">
<div class="kg-gallery-image"><img src="https://gabriele.tips/media/posts/9/MVIMG_20190329_132819.resized.jpg" alt="" width="576" height="768" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132819.resized-xs.jpg 300w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132819.resized-sm.jpg 480w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132819.resized-md.jpg 768w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132819.resized-lg.jpg 1024w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132819.resized-xl.jpg 1360w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132819.resized-2xl.jpg 1600w"></div>
<div class="kg-gallery-image"><img src="https://gabriele.tips/media/posts/9/MVIMG_20190329_132649.resized.jpg" alt="" width="576" height="768" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132649.resized-xs.jpg 300w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132649.resized-sm.jpg 480w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132649.resized-md.jpg 768w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132649.resized-lg.jpg 1024w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132649.resized-xl.jpg 1360w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190329_132649.resized-2xl.jpg 1600w"></div>
</div>
</div>
</figure>
<h3 id="colleghiamo-i-cavi">Colleghiamo i cavi</h3>
<p>Iniziamo quindi a <strong>sfilare l'ONT dal FASTGate</strong>. Prima di procedere con questa operazione, vi consiglio di spegnere il router e lasciarlo spento per qualche minuto. L'ONT infatti si <strong>surriscalda molto</strong> e c'è il rischio di scottarsi durante le operazioni.</p>
<p>Ricollegate quindi il tutto nel MediaConverter. Prima di collegare il cavo di rete al router però, dobbiamo configurare i parametri sulla WAN.</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/IMG_20190403_000923.resized.jpg" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/IMG_20190403_000923.resized-xs.jpg 300w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_000923.resized-sm.jpg 480w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_000923.resized-md.jpg 768w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_000923.resized-lg.jpg 1024w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_000923.resized-xl.jpg 1360w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_000923.resized-2xl.jpg 1600w"></figure></figure>
<h3 id="impostare-i-parametri-sulla-wan-del-router">Impostare i parametri sulla WAN del router</h3>
<p><strong>La prima cosa da fare</strong> è impostare l'interfaccia in modalità DHCP, in modo da prendersi automaticamente l'IP dal provider in fase di connessione. Questo è un setup praticamente standard che hanno tutti i router.</p>
<p><strong>La seconda cosa da fare</strong> è clonare il MAC address del FASTGate. Il MAC Address è scritto sulla destra di un'etichetta dietro il FASTGate.</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/MVIMG_20190403_203840.resized.jpg" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/MVIMG_20190403_203840.resized-xs.jpg 300w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190403_203840.resized-sm.jpg 480w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190403_203840.resized-md.jpg 768w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190403_203840.resized-lg.jpg 1024w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190403_203840.resized-xl.jpg 1360w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190403_203840.resized-2xl.jpg 1600w"></figure></figure>
<p>Per impostare il MAC sulla WAN nel EdgeRouter è possibile farlo da CLI, oppure andando nella tab Config Tree dell'interfaccia web e navigare fino a <code>interfaces / ethernet / eth0</code>, inserendo poi il MAC nell'apposito campo, facendo attenzione ad inserirlo nel formato <code>00:00:00:00:00:00</code>.</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/Schermata-da-2019-04-03-20-50-46_450112b1995490a1e086956374eb0845.png" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-50-46_450112b1995490a1e086956374eb0845-xs.png 300w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-50-46_450112b1995490a1e086956374eb0845-sm.png 480w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-50-46_450112b1995490a1e086956374eb0845-md.png 768w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-50-46_450112b1995490a1e086956374eb0845-lg.png 1024w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-50-46_450112b1995490a1e086956374eb0845-xl.png 1360w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-50-46_450112b1995490a1e086956374eb0845-2xl.png 1600w"></figure></figure>
<p>Confermate la configurazione con <code>Preview</code> e <code>Apply</code>.</p>
<p><strong>La terza cosa da fare</strong> è impostare il parametro DHCP Option 60. Per impostarlo possiamo sempre andare da CLI, oppure anche qui possiamo modificare le proprietà dal <strong>Config Tree</strong>. Navighiamo fino a <code>interfaces / ethernet / eth0 / dhcp-options</code> e nel campo <strong>client-option</strong> dobbiamo inserire questa stringa esatta:</p>
<p><code>send vendor-class-identifier "askey_HW_ES1_SW_0.00.67/dslforum.org";</code></p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/Schermata-da-2019-04-03-20-56-57_2e6aafa7f4b30c73220b551db0b42e5a.png" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-56-57_2e6aafa7f4b30c73220b551db0b42e5a-xs.png 300w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-56-57_2e6aafa7f4b30c73220b551db0b42e5a-sm.png 480w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-56-57_2e6aafa7f4b30c73220b551db0b42e5a-md.png 768w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-56-57_2e6aafa7f4b30c73220b551db0b42e5a-lg.png 1024w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-56-57_2e6aafa7f4b30c73220b551db0b42e5a-xl.png 1360w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-20-56-57_2e6aafa7f4b30c73220b551db0b42e5a-2xl.png 1600w"></figure></figure>
<p>Confermate sempre con <code>Preview</code> e <code>Apply</code>.</p>
<p><strong>NOTA IMPORTANTE</strong>: la stringa esatta da inserire dovrebbe essere <code>send vendor-class-identifier "askey_HW_ES1_SW_0.00.67/dslforum.org";</code> tuttavia l'EdgeRouter restituisce un errore se si usano gli " nella stringa, quindi li ho sostituiti con <code>"</code>.</p>
<p>A questo punto, dovrebbe essere tutto pronto.</p>
<h3 id="test-drive">Test Drive</h3>
<p>Colleghiamo il cavo di rete alla porta WAN del nostro router.</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/IMG_20190403_001118.resized.jpg" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/IMG_20190403_001118.resized-xs.jpg 300w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_001118.resized-sm.jpg 480w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_001118.resized-md.jpg 768w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_001118.resized-lg.jpg 1024w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_001118.resized-xl.jpg 1360w ,https://gabriele.tips/media/posts/9/responsive/IMG_20190403_001118.resized-2xl.jpg 1600w"></figure></figure>
<p>I LED sul MediaConverter dovrebbero accendersi e nel giro di qualche secondo il router dovrebbe effettuare la connessione.</p>
<figure class="kg-card kg-image-card kg-card-hascaption"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/Schermata-da-2019-03-31-16-02-01.resized.jpg" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-03-31-16-02-01.resized-xs.jpg 300w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-03-31-16-02-01.resized-sm.jpg 480w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-03-31-16-02-01.resized-md.jpg 768w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-03-31-16-02-01.resized-lg.jpg 1024w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-03-31-16-02-01.resized-xl.jpg 1360w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-03-31-16-02-01.resized-2xl.jpg 1600w"></figure>
<figcaption>Connected! Velocità di download molto vicina alla nominale da contratto.</figcaption>
</figure>
<p>Fate un test di navigazione e se avete fatto tutto correttamente dovrebbe funzionare tutto!</p>
<p>A questo punto potete prendere il vostro FASTGate e fargli fare la fine che merita...</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/9/MVIMG_20190331_180053.resized.jpg" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/MVIMG_20190331_180053.resized-xs.jpg 300w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190331_180053.resized-sm.jpg 480w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190331_180053.resized-md.jpg 768w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190331_180053.resized-lg.jpg 1024w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190331_180053.resized-xl.jpg 1360w ,https://gabriele.tips/media/posts/9/responsive/MVIMG_20190331_180053.resized-2xl.jpg 1600w"></figure></figure>
<h2 id="conclusioni">Conclusioni</h2>
<p>Come avete visto, sostituire il router fornito da Fastweb è possibile, tuttavia è un'operazione non alla portata di tutti. Richiede un hardware comunque al pari se non superiore al FASTGate (che tecnicamente schifo non fa) e un minimo di competenze tecniche e di networking per destreggiarsi tra collegamenti di rete e stringhe strane.</p>
<p><strong>A questo punto però, a molti di voi verrà spontanea una domanda: perché sostituire il router del provider con un router di proprietà? Cosa si guadagna? Il FASTGate non va bene?</strong></p>
<p>Ebbene, non è tanto l'hardware il problema in questo caso, ma il software.</p>
<p>Il software che gestisce questi router infatti è sviluppato su misura dal provider stesso e generalmente è un'accozzaglia di codice scritto male e senza criterio. Come risultato si ottiene un firmware con poche funzioni, spesso basilari e quelle poche funzioni avanzate che ci sono hanno bug assurdi che ne compromettono il corretto funzionamento.  </p>
<p>Un esempio? Il famoso caso di Destiny e il router "scolapasta" di TIM: <a href="https://www.bungie.net/it/Forums/Post/242575705">https://www.bungie.net/it/Forums/Post/242575705</a></p>
<p><strong>A questo punto qualcuno dirà... vabbé ma io devo solo navigare sull'internetto, cosa me ne frega di tutto il resto? Non posso stare col mio bel router che collego e funziona?</strong></p>
<p>Sì, certamente, però qui entriamo nel secondo problema di questi router, a parer mio il più grave e che riguarda praticamente il 100% degli utenti: la sicurezza e la privacy.</p>
<p>Come sicuramente saprete, questi router dei provider sono famosi per essere <strong>telegestiti</strong>, ovvero il provider può tecnicamente entrare nel vostro router e apportare modifiche da remoto. Queste modifiche generalmente sono aggiornamenti firmware, e fin qui nulla di male, però non si limitano a questo: possono tecnicamente modificare il funzionamento del router, estrapolare informazioni e vedere quello che c'è all'interno della vostra rete domestica, vedere i vostri dispositivi, vedere se avete un iPhone, un Android, un Roomba, una telecamera, e così via.</p>
<p>Se si considera la rete locale come le quattro mura di casa, è come se il vostro fornitore del gas venisse a casa vostra a vedere cosa state cucinando sui fornelli tutte le sere. Non solo, volendo ha la possibilità di decidere arbitrariamente di regolarvi la potenza della fiamma. Non suona come una bella cosa, vero?</p>
<p><strong>Però anche qui, sono quasi certo che qualcuno dirà "è il mio provider, sono consapevole e non ho nulla da nascondere. Mi fido!".</strong></p>
<p>Ebbene, durante questa fase di setup del nuovo router mi sono accorto per puro caso che dal mio IP pubblico con il vecchio FASTGate risultava una <strong>porta aperta in ingresso</strong> da internet. (Premessa per i neofiti: a meno di configurazioni particolari e volute, le porte in ingresso da internet devono essere assolutamente <strong>chiuse</strong>!)</p>
<p>Verificando la configurazione del FASTGate non ho trovato alcuna traccia di una configurazione che citasse questa porta, né tanto meno che fosse aperta indiscriminatamente a tutti.</p>
<p>Al che mi è venuto un dubbio: se non fosse solo un mio problema?</p>
<p>Facendo una velocissima ricerca su <strong>Shodan</strong>, ho scoperto di non essere solo. Cercando infatti per questa porta e isolando la ricerca sul suolo italiano, di quasi 59.000 risultati, <strong>ben 44.000 sono di Fastweb</strong> con un nettissimo distacco dal secondo posto.</p>
<figure class="kg-card kg-gallery-card kg-width-wide">
<div class="kg-gallery-container">
<div class="kg-gallery-row">
<div class="kg-gallery-image"><img src="https://gabriele.tips/media/posts/9/Schermata-da-2019-04-03-22-10-17-1.png" srcset="https://gabriele.tips/content/images/size/w600/2019/04/Schermata-da-2019-04-03-22-10-17-1.png 600w, https://gabriele.tips/media/posts/9/Schermata-da-2019-04-03-22-10-17-1.png 692w" alt="" width="692" height="496" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-17-1-xs.png 300w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-17-1-sm.png 480w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-17-1-md.png 768w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-17-1-lg.png 1024w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-17-1-xl.png 1360w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-17-1-2xl.png 1600w"></div>
<div class="kg-gallery-image"><img src="https://gabriele.tips/media/posts/9/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2.png" srcset="https://gabriele.tips/content/images/size/w600/2019/04/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2.png 600w, https://gabriele.tips/media/posts/9/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2.png 686w" alt="" width="686" height="280" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2-xs.png 300w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2-sm.png 480w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2-md.png 768w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2-lg.png 1024w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2-xl.png 1360w ,https://gabriele.tips/media/posts/9/responsive/Schermata-da-2019-04-03-22-10-39_2c33668b1461ab69de2885337110f5e9-2-2xl.png 1600w"></div>
</div>
</div>
</figure>
<p>Abbiamo quindi una situazione dove il router telegestito e controllato dal provider espone su internet un servizio del router non chiaramente identificato, aperto a tutti, in modo assolutamente silente, lasciando quindi il cliente ignaro della situazione di potenziale pericolo.</p>
<p>Il rischio, seppur remoto, è che qualcuno possa tentare di sfruttare delle potenziali vulnerabilità del servizio esposto, prendendo così il controllo dell'apparato e accedere così all'interno della vostra rete. Se mettiamo insieme anche il fatto che spesso il firmware di questi router è scritto coi piedi, il rischio di subire una violazione non sembra poi così remoto.</p>
<p>Ed ecco quindi che il provider, di cui vi fidate, può commettere degli errori e mettere in pericolo la vostra sicurezza e la vostra privacy.</p>
<p>Quindi, tornando alla domanda originale, perché sostituire il router del provider con un router proprietario?</p>
<p>La risposta è molto semplice:</p>
<p><strong>PRIVACY.</strong></p>
<p><strong>SICUREZZA.</strong></p>
<p><strong>LIBERTÀ.</strong></p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Automatizzare la connessione VPN con Tasker per Android</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/automatizzare-la-connessione-vpn-con-tasker-per-android/"/>
        <id>https://gabriele.tips/automatizzare-la-connessione-vpn-con-tasker-per-android/</id>

        <updated>2023-08-03T23:40:43+02:00</updated>
            <summary>
                <![CDATA[
                    Da quando ho iniziato ad usare le VPN sul telefono mi sono accorto di un problema di semplice natura: ricordarmi di attivarla quando esco di casa. Spesse volte mi è capitato infatti di ricordarmene solo dopo qualche ora passata fuori casa, o ancora peggio accorgermi&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <figure class="kg-image">Da quando ho iniziato ad usare le VPN sul telefono mi sono accorto di un problema di semplice natura: ricordarmi di attivarla quando esco di casa. Spesse volte mi è capitato infatti di ricordarmene solo dopo qualche ora passata fuori casa, o ancora peggio accorgermi della mancanza di un filtro sulla navigazione quando ormai avevo già vinto 4 iPad e 9 iPhone X.<p>L'idea mi è quindi balzata in testa: perché non automatizzare la connessione VPN appena mi allontano dal WiFi di casa? Viceversa, appena torno a casa la VPN si deve disconnettere.</p><p>Ebbene, grazie a Tasker e il client OpenVPN for Android è possibile farlo! </p><p>Questa breve guida fa seguito alla mia guida iniziale su <a href="https://gabriele.tips/virtual-private-pi-holed-network/">come realizzare una VPN domestica con Pi-Hole integrato</a> da poter utilizzare fuori casa per navigare sicuri e protetti in mobilità.</p><h2 id="tasker-per-android">Tasker per Android</h2><p>Tasker è un'app per Android che permette di eseguire delle automazioni in base a determinate condizioni. La trovate nel <a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm">Play Store</a> ad un costo di 2.99 €.</p><p>Il principio di funzionamento di Tasker è molto semplice:</p><p><strong>SE</strong> [CONDIZIONE DA RISPETTARE] <strong>È VERO, ALLORA</strong> [ESEGUI ATTIVITÀ]</p><p>In Tasker le "condizioni da rispettare" si chiamano <strong>Profili</strong>. Ogni <strong>Attività</strong> può contenere una o più <strong>Azioni</strong>.</p><h2 id="automatic-virtual-private-pi-holed-network">AUTOMATIC Virtual Private Pi-Holed Network</h2><p>La logica con cui ho creato l'automazione è la seguente:</p><ul><li><strong>SE</strong> [WiFi non connesso] <strong>È VERO, ALLORA</strong> [Connetti VPN]</li><li><strong>SE</strong> [WiFi di casa connesso] <strong>È VERO, ALLORA</strong> [Disconnetti VPN]</li></ul><p>La realizzazione è abbastanza semplice, vediamola insieme.</p><h2 id="creiamo-le-attivit-start-vpn-e-stop-vpn">Creiamo le attività "Start VPN" e "Stop VPN"</h2><p>Iniziamo con la creazione delle due attività di connessione e disconnessione della VPN.</p><h3 id="start-vpn">Start VPN</h3><p>Apriamo Tasker e posizioniamoci sulla tab <strong>Attività</strong>, dopodiché premiamo <strong>+</strong>, scriviamo <strong>"Start VPN"</strong> e poi confermiamo. </p><p>A questo punto possiamo andare ad inserire una o più azioni che verranno eseguite quando verrà avviata questa attività, noi dobbiamo connettere il nostro profilo VPN salvato in OpenVPN for Android.</p><p>Per farlo, premiamo <strong>+</strong> e scegliamo <strong>Sistema</strong> e <strong>Invia Intent</strong>. Vi apparirà un form dove bisogna inserire dei valori. I valori da inserire sono questi:</p><p>Azione<br><code>android.intent.action.MAIN<br></code>Cat <br><code>None<br></code>Extra (dove "Casa" è il nome del vostro profilo VPN) <br><code>de.blinkt.openvpn.shortcutProfileName: Casa<br></code>Pacchetto <br><code>de.blinkt.openvpn<br></code>Classe<br><code>de.blinkt.openvpn.LauchVPN<br></code>Target<br><code>Activity</code></p><p>Ora torniamo indietro fino al pannello principale delle attività.</p><h3 id="stop-vpn">Stop VPN</h3><p>Creiamo la seconda attività per disconnettere la VPN sempre seguendo la stessa procedura con <strong>+</strong>, scriviamo <strong>"Stop VPN"</strong> e confermiamo.</p><p>Di nuovo qui facciamo <strong>+</strong>, <strong>Sistema</strong>, <strong>Invia Intent</strong> e scriviamo questi parametri:</p><p>Azione<br><code>android.intent.action.MAIN<br></code>Cat <br><code>None<br></code>Extra (dove "Casa" è il nome del vostro profilo VPN) <br><code>de.blinkt.openvpn.shortcutProfileName: Casa<br></code>Pacchetto <br><code>de.blinkt.openvpn<br></code>Classe<br><code>de.blinkt.openvpn.api.DisconnectVPN<br></code>Target<br><code>Activity</code></p><p>Torniamo di nuovo indietro alla home e se avete fatto tutto giusto, dovreste ritrovarvi con due Attività: <strong>"Start VPN"</strong> e <strong>"Stop VPN"</strong>. </p><h2 id="creazione-dei-profili-wifi-collegato-e-non-wifi-collegato">Creazione dei profili "WIFI Collegato" e "Non WIFI Collegato"</h2><p>Ora possiamo passare alla creazione dei profili.</p><h3 id="wifi-collegato">WIFI Collegato</h3><p>Iniziamo con la creazione del profilo <strong>"WIFI Collegato"</strong>, dobbiamo quindi dirgli di disconnettere la VPN se siamo connessi al nostro WiFi di casa.</p><p>Spostiamoci nella tab <strong>Profili</strong>, premiamo <strong>+</strong>, selezioniamo <strong>Stato</strong> dal menu a scomparsa, poi <strong>Rete</strong> e <strong>WIFI Collegato</strong>.</p><p>Nel form che vi compare, dovete semplicemente inserire il <strong>nome della vostra rete WiFi</strong> nel campo <strong>SSID</strong> e lasciare tutto il resto invariato. Ora premendo indietro per tornare alla pagina principale vi comparirà automaticamente un menu rapido dal quale possiamo scegliere l'azione da eseguire quando si attiverà questo profilo. In questo specifico caso dovete selezionare <strong>"Stop VPN"</strong>.</p><p>Ed ecco quindi che abbiamo creato il primo profilo:</p><p><strong>SE</strong> [WiFi di casa connesso] <strong>È VERO, ALLORA</strong> [Disconnetti VPN]</p><figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/8/Screenshot_20181125-161151-2.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161151-2-xs.png 300w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161151-2-sm.png 480w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161151-2-md.png 768w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161151-2-lg.png 1024w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161151-2-xl.png 1360w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161151-2-2xl.png 1600w"></figure></figure><h3 id="non-wifi-collegato">Non WIFI Collegato</h3><figure class="kg-image">Passiamo quindi alla creazione del profilo <strong>"Non WIFI Collegato"</strong>. Dobbiamo dire che se il WiFi viene scollegato, deve connettersi automaticamente la VPN. <p>Procediamo quindi allo stesso modo nella tab <strong>Profili</strong>, premiamo <strong>+</strong>, selezioniamo <strong>Stato</strong> dal menu a scomparsa, poi <strong>Rete</strong> e <strong>WIFI Collegato</strong>. A questo punto dobbiamo semplicemente mettere la spunta su <strong>Inverti</strong> lasciando tutto vuoto.</p><p>Torniamo indietro e ci verrà riproposto lo stesso menu rapido di prima, dove selezioniamo <strong>"Start VPN"</strong>.</p><p>Facendo così, abbiamo creato anche il nostro secondo profilo:</p><p><strong>SE</strong> [WiFi non connesso] <strong>È VERO, ALLORA</strong> [Connetti VPN]</p><figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/8/Screenshot_20181125-161157-2.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161157-2-xs.png 300w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161157-2-sm.png 480w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161157-2-md.png 768w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161157-2-lg.png 1024w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161157-2-xl.png 1360w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-161157-2-2xl.png 1600w"></figure></figure><h2 id="salvataggio-della-configurazione">Salvataggio della configurazione</h2><figure class="kg-image">Ora che abbiamo creato le azioni e i profili, non resta che salvare tutta la configurazione. Per farlo è sufficiente premere il <strong>check</strong> sulla barra del titolo e Tasker si attiverà.<figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/8/Screenshot_20181125-162303.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-162303-xs.png 300w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-162303-sm.png 480w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-162303-md.png 768w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-162303-lg.png 1024w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-162303-xl.png 1360w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-162303-2xl.png 1600w"></figure></figure><h2 id="autorizzare-tasker-per-l-interazione-con-openvpn">Autorizzare Tasker per l'interazione con OpenVPN</h2><figure class="kg-image">Alla prima esecuzione di un'attività potrebbe apparirvi un popup di richiesta autorizzazione. Questo è un avviso di sicurezza di <strong>OpenVPN per Android</strong> per indicarvi che un'applicazione di terze parti vuole interagire con i profili VPN. Qui dovete semplicemente <strong>mettere la spunta</strong> per considerare Tasker attendibile e fare <strong>Ok</strong>.<figure class="kg-card kg-image-card"><img src="https://gabriele.tips/media/posts/8/Screenshot_20181125-170252-2.png"  alt loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-170252-2-xs.png 300w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-170252-2-sm.png 480w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-170252-2-md.png 768w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-170252-2-lg.png 1024w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-170252-2-xl.png 1360w ,https://gabriele.tips/media/posts/8/responsive/Screenshot_20181125-170252-2-2xl.png 1600w"></figure></figure><h2 id="considerazioni-finali">Considerazioni finali</h2><p>Sto utilizzando questa configurazione da circa un mesetto e posso confermarvi che il setup è abbastanza solido. So per certo però che i più attenti di voi non potranno fare a meno di notare che c'è un piccolo "bug" nella mia configurazione, che si presenta nella situazione in cui si passa dalla rete WiFi di casa direttamente ad un'altra rete WiFi. In questo specifico caso infatti il profilo "Non WIFI Collegato" non entra in azione, poiché il dispositivo migra direttamente da una rete WiFi ad un'altra, non scatenando l'evento che fa switchare il profilo.</p><p>La situazione potrebbe sembrare di facile risoluzione semplicemente inserendo il nome dell'SSID di casa insieme al parametro Inverti (SE ![SSID di Casa]), tuttavia impostando così il profilo ho riscontrato che viene attivato erroneamente nel momento in cui il telefono si connette in VPN, generando così un loop di connessione e disconnessione continua. </p><p>Ammetto di non avere indagato a fondo, tuttavia il setup così impostato è perfetto per la mia esperienza d'uso, ovvero:</p><p><strong>Sono a casa -></strong> Profilo "WiFi Collegato", navigo in rete locale.</p><p><strong>Fuori casa in 4G -></strong> Mi sgancio dal wifi, si attiva "Non WiFi Collegato" e navigo in VPN.</p><p><strong>Mi collego ad altri WiFi -></strong> La condizione per "WiFi Collegato" non viene rispettata in quanto SSID differente, quindi continuo a navigare in VPN.</p><p><strong>Torno a casa -></strong> Rileva connessione al WiFi domestico, entra "WiFi Collegato" che disconnette la VPN.</p><p>E con questo è tutto. Se avete bisogno di ulteriori informazioni, segnalarmi degli errori o fornirmi feedback, scrivetemi! ☺️</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>VPPN: Virtual Private &quot;Pi-Holed&quot; Network</title>
        <author>
            <name>Gabriele</name>
        </author>
        <link href="https://gabriele.tips/vppn-virtual-private-pi-holed-network/"/>
        <id>https://gabriele.tips/vppn-virtual-private-pi-holed-network/</id>

        <updated>2023-08-05T18:07:03+02:00</updated>
            <summary>
                <![CDATA[
                    Chi mi conosce sa molto bene che provo un amore incondizionato per Pi-Hole. Navigare in una rete non protetta da Pi-Hole mi fa sentire nudo e vulnerabile, perché Pi-Hole non è un semplice ad-blocker, è un incredibile strumento per alzare in modo considerevole la sicurezza&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Chi mi conosce sa molto bene che provo un amore incondizionato per <a href="https://pi-hole.net/">Pi-Hole</a>. Navigare in una rete non protetta da Pi-Hole mi fa sentire nudo e vulnerabile, perché Pi-Hole non è un semplice ad-blocker, è un incredibile strumento per alzare in modo considerevole la sicurezza della navigazione.</p>
<p>Senza gli ads, si riduce quasi del 100% la possibilità di venire dirottati su qualche pagina malevola a causa di malvertising.</p>
<p>Per esempio, attacchi di questo tipo verrebbero completamente neutralizzati grazie a Pi-Hole:</p>
<figure class="post__image"><a href="https://twitter.com/GabrielLandau/status/1055300918101598208" target="_blank" rel="noopener noreferrer"><img loading="lazy"  src="https://gabriele.tips/media/posts/7/Screenshot-2023-08-05-alle-18.05.05.png" alt="" width="1178" height="1028" sizes="100vw" srcset="https://gabriele.tips/media/posts/7/responsive/Screenshot-2023-08-05-alle-18.05.05-xs.png 300w ,https://gabriele.tips/media/posts/7/responsive/Screenshot-2023-08-05-alle-18.05.05-sm.png 480w ,https://gabriele.tips/media/posts/7/responsive/Screenshot-2023-08-05-alle-18.05.05-md.png 768w ,https://gabriele.tips/media/posts/7/responsive/Screenshot-2023-08-05-alle-18.05.05-lg.png 1024w ,https://gabriele.tips/media/posts/7/responsive/Screenshot-2023-08-05-alle-18.05.05-xl.png 1360w ,https://gabriele.tips/media/posts/7/responsive/Screenshot-2023-08-05-alle-18.05.05-2xl.png 1600w"></figure></a></p>
<p>Fin dai primi giorni di utilizzo ho desiderato poter avere lo stesso livello di protezione anche in mobilità con lo smartphone. L'idea era quella di fare una VPN per dirottare tutto il traffico di navigazione nella rete di casa e far gestire quindi i DNS da Pi-Hole. Purtroppo questa idea è durata qualche secondo, giusto il tempo di ricordarsi di avere una misera aDSL da 8Mbps/700Kbps. #FuckDigitalDivide<br>Non potendo fare una VPN domestica a causa delle scarse prestazioni della mia rete, ho adottato per diverso tempo una VPN di terze parti, nello specifico F-Secure Freedome, che implementa un filtro per siti malevoli e tracking. Non siamo ai livelli di Pi-Hole, però mi ha aiutato a navigare in modo sicuro anche in mobilità negli ultimi due anni.</p>
<p>Ora però la musica è cambiata. Ora ho cambiato casa e ho finalmente a disposizione una connessione stratosferica, 1Gbps/200Mbps con OpenFiber!</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/7/asdasdasdasda.gif" alt="" loading="lazy"></figure></figure>
<p>Appena ho collegato il router e ho provato con mano l'incredibile velocità, l'idea della VPN è tornata a solleticarmi, così una sera mi sono messo comodo sul divano e ho realizzato la mia <strong>Virtual Private Pi-Holed Network</strong>!</p>
<p>Nota: esiste una <a href="https://docs.pi-hole.net/guides/vpn/overview/">guida ufficiale molto ben dettagliata</a>, da cui ho preso informazioni a piene mani, tuttavia parte da una Raspbian pulita senza nulla, ci installa prima OpenVPN e poi Pi-Hole. E' molto più facile invece trovarsi in una situazione dove si ha un RPi con Pi-Hole già installato e configurato e si desidera installarci sopra la VPN.</p>
<p>Ed è esattamente quello che faremo ora.</p>
<p>Situazione di partenza: Raspberry Pi nella rete locale con Raspbian Lite e Pi-Hole installato e funzionante. Darò per scontato che se siete arrivati qui, sapete connettervi in SSH al vostro RPi. Consiglio prima di partire con l'installazione, di fare un controllo su eventuali aggiornamenti disponibili:</p>
<!--kg-card-begin: markdown-->
<pre><code>sudo apt update &amp;&amp; sudo apt upgrade</code></pre>
<!--kg-card-end: markdown-->
<h3 id="installiamo-openvpn-su-pi-hole">Installiamo OpenVPN su Pi-Hole</h3>
<p>La prima cosa da fare è scaricare e installare OpenVPN <a href="https://en.wikipedia.org/wiki/Road_warrior_(computing)">road warrior</a>. Connettetevi in SSH al RPi ed eseguite questo comando:</p>
<!--kg-card-begin: markdown-->
<pre><code>wget https://git.io/vpn -O openvpn-install.shchmod 755 openvpn-install.shsudo ./openvpn-install.sh</code></pre>
<!--kg-card-end: markdown-->
<p>Verrà eseguita la procedura guidata per l'installazione. E' molto semplice e basta inserire poche informazioni chiave. Vi consiglio di tenere le stesse impostazioni che ho messo io e cambiare solamente il vostro indirizzo pubblico e il nome del client alla fine:</p>
<!--kg-card-begin: markdown-->
<pre><code>Welcome to this quick OpenVPN "road warrior" installerI need to ask you a few questions before starting the setupYou can leave the default options and just press enter if you are ok with themFirst I need to know the IPv4 address of the network interface you want OpenVPNlistening to.IP address: 10.8.0.1This server is behind NAT. What is the public IPv4 address or hostname?Public IP address / hostname: x.x.x.x #Nota: qui dovete inserire il vostro IP pubblico di casaWhich protocol do you want for OpenVPN connections?   1) UDP (recommended)   2) TCPProtocol [1-2]: 1What port do you want OpenVPN listening to?Port: 1194Which DNS do you want to use with the VPN?   1) Current system resolvers   2) Google   3) OpenDNS   4) NTT   5) Hurricane Electric   6) VerisignDNS [1-6]: 1Finally, tell me your name for the client certificatePlease, use one word only, no special charactersClient name: GabrielePixel2 #Nota: qui dovete inserire un nome profilo per il vostro utente remotoOkay, that was all I needed. We are ready to setup your OpenVPN server nowPress any key to continue...</code></pre>
<!--kg-card-end: markdown-->
<p>A questo punto partirà l'installazione e terminerà così:</p>
<!--kg-card-begin: markdown-->
<pre><code>Finished!Your client configuration is available at /root/GabrielePixel2.ovpnIf you want to add more clients, you simply need to run this script again!</code></pre>
<!--kg-card-end: markdown-->
<p>Il file che ha generato è il profilo <code>.ovpn</code> da copiare nel vostro client per poter effettuare la connessione. Di default lo salva in <code>/root/</code>, vi consiglio di spostarlo nella vostra home per poterlo prelevare dal RPi con più semplicità:</p>
<!--kg-card-begin: markdown-->
<pre><code>cd ~sudo mv /root/GabrielePixel2.ovpn GabrielePixel2.ovpn</code></pre>
<!--kg-card-end: markdown-->
<p>A seconda della configurazione del vostro RPi, potrebbe essere necessario diventare proprietari del file per poterlo gestire. Se usate l'utente di default <code>pi</code> basta digitare:</p>
<!--kg-card-begin: markdown-->
<pre><code>sudo chown pi:pi GabrielePixel2.ovpn</code></pre>
<!--kg-card-end: markdown-->
<p>Di questo file ci occuperemo più avanti. Procediamo con la configurazione del server VPN.</p>
<h3 id="configuriamo-openvpn-server">Configuriamo OpenVPN Server</h3>
<p>Ora dobbiamo cambiare i resolver DNS per l'interfaccia <code>tun0</code> creata dallo script di OpenVPN. Prima però ci serve sapere l'IP di questa interfaccia. Se non avete cambiato nulla in fase di installazione rispetto alla guida, dovrebbe avere indirizzo <code>10.8.0.1</code>, in alternativa potete sempre verificare con questi semplici comandi</p>
<p>Per Raspbian Jessie:</p>
<!--kg-card-begin: markdown-->
<pre><code>ifconfig tun0 | grep 'inet addr'</code></pre>
<!--kg-card-end: markdown-->
<p>Per Raspbian Stretch:</p>
<!--kg-card-begin: markdown-->
<pre><code>ip a</code></pre>
<!--kg-card-end: markdown-->
<p>Annotiamoci l'IP dell'interfaccia <code>tun0</code>, quindi andiamo a modificare il file di configurazione di OpenVPN:</p>
<!--kg-card-begin: markdown-->
<pre><code>sudo nano /etc/openvpn/server.conf</code></pre>
<!--kg-card-end: markdown-->
<p>Cercate all'interno del file la riga che inizia con <code>push "dhcp option DNS x.x.x.x"</code>   e modificatela con l'IP della vostra <code>tun0</code>:</p>
<!--kg-card-begin: markdown-->
<pre><code>push "dhcp-option DNS 10.8.0.1"</code></pre>
<!--kg-card-end: markdown-->
<p>Chiudete salvando il file e riavviate il servizio di OpenVPN:</p>
<!--kg-card-begin: markdown-->
<pre><code>sudo service openvpn restart</code></pre>
<!--kg-card-end: markdown-->
<p>Ora colleghiamoci al pannello admin web di Pi-Hole, nelle impostazioni, sezione DNS, impostate l'interfaccia di ascolto su "Listen on all interfaces" e salvate:</p>
<figure class="kg-card kg-image-card kg-card-hascaption"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/7/Screenshot_2018-11-02-Pi-hole-Admin-Console.png" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Pi-hole-Admin-Console-xs.png 300w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Pi-hole-Admin-Console-sm.png 480w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Pi-hole-Admin-Console-md.png 768w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Pi-hole-Admin-Console-lg.png 1024w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Pi-hole-Admin-Console-xl.png 1360w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Pi-hole-Admin-Console-2xl.png 1600w"></figure>
<figcaption>Listen on all interfaces</figcaption>
</figure>
<p>A questo punto il server OpenVPN è configurato e funzionante con Pi-Hole come resolver DNS! 👏</p>
<h3 id="port-forward-dal-router">Port Forward dal router</h3>
<p>Per poter accedere da fuori è necessario esporre su internet la porta 1194 UDP del vostro RPi. Non vi lascio una guida per farlo perché cambia a seconda del router che avete, però vi consiglio di fare molta attenzione ad esporre SOLAMENTE la porta 1194 UDP e non tutto il RPi. <strong>Non mettete il RPi in DMZ!! </strong></p>
<h3 id="esportiamo-il-file-ovpn">Esportiamo il file .ovpn</h3>
<p>Ora possiamo provare a connetterci alla nostra VPN, però prima dobbiamo recuperare il nostro file di configurazione <code>.ovpn</code> dal RPi e copiarlo sullo smartphone. Per farlo è sufficiente connettersi con un client SFTP e prelevare dalla home directory il file. Se siete su Windows vi consiglio <a href="https://winscp.net/eng/docs/lang:it">WinSCP</a>. Salvate pure il file <code>.ovpn</code> dove volete nel vostro smartphone, non è importante.</p>
<p>Se volete, potete creare ulteriori nuovi utenti semplicemente eseguendo di nuovo lo script iniziale</p>
<!--kg-card-begin: markdown-->
<pre><code>sudo ./openvpn-install.sh</code></pre>
<!--kg-card-end: markdown-->
<p>Questa volta apparirà un menu differente, dove potremo creare un nuovo profilo <code>.ovpn</code> da usare per esempio su un altro device.</p>
<!--kg-card-begin: markdown-->
<pre><code>Looks like OpenVPN is already installedWhat do you want to do?   1) Add a new user   2) Revoke an existing user   3) Remove OpenVPN   4) ExitSelect an option [1-4]: 1Tell me a name for the client certificatePlease, use one word only, no special charactersClient name: iPhone7</code></pre>
<!--kg-card-end: markdown-->
<p>La procedura per esportare il file .ovpn è la medesima riportata sopra.</p>
<h3 id="connettiamoci-alla-vpn">Connettiamoci alla VPN</h3>
<p>Procediamo quindi all'installazione del client OpenVPN. Su Android vi consiglio OpenVPN for Android, poiché è un'alternativa OpenSource al client ufficiale e permette una personalizzazione più granulare.</p>
<p>Ora dovete solamente importare il profilo <code>.ovpn</code> nell'app e provare a connettervi.</p>
<p>Nota: potete cambiare liberamente il nome della connessione. Per esempio io l'ho chiamata <code>Casa</code>.</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/7/Screenshot_20181102-153132.png" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/7/responsive/Screenshot_20181102-153132-xs.png 300w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_20181102-153132-sm.png 480w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_20181102-153132-md.png 768w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_20181102-153132-lg.png 1024w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_20181102-153132-xl.png 1360w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_20181102-153132-2xl.png 1600w"></figure></figure>
<p>Se tutto è stato fatto come da manuale, dovrebbe connettersi e dovreste riuscire a navigare.</p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/7/Screenshot--2-nov-2018-17_30_49-.png" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/7/responsive/Screenshot--2-nov-2018-17_30_49--xs.png 300w ,https://gabriele.tips/media/posts/7/responsive/Screenshot--2-nov-2018-17_30_49--sm.png 480w ,https://gabriele.tips/media/posts/7/responsive/Screenshot--2-nov-2018-17_30_49--md.png 768w ,https://gabriele.tips/media/posts/7/responsive/Screenshot--2-nov-2018-17_30_49--lg.png 1024w ,https://gabriele.tips/media/posts/7/responsive/Screenshot--2-nov-2018-17_30_49--xl.png 1360w ,https://gabriele.tips/media/posts/7/responsive/Screenshot--2-nov-2018-17_30_49--2xl.png 1600w"></figure></figure>
<p>Come prova dell'effettiva navigazione con Pi-Hole, potete provare a visitare questo sito: <a href="https://blockads.fivefilters.org/?pihole">https://blockads.fivefilters.org/?pihole</a></p>
<figure class="kg-card kg-image-card"><figure class="kg-image"><img  src="https://gabriele.tips/media/posts/7/Screenshot_2018-11-02-Block-Ads--1.png" alt="" loading="lazy" sizes="100vw" srcset="https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Block-Ads--1-xs.png 300w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Block-Ads--1-sm.png 480w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Block-Ads--1-md.png 768w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Block-Ads--1-lg.png 1024w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Block-Ads--1-xl.png 1360w ,https://gabriele.tips/media/posts/7/responsive/Screenshot_2018-11-02-Block-Ads--1-2xl.png 1600w"></figure></figure>
<p>Se vi restituisce questo messaggio, potete farvi i complimenti, avete appena creato la vostra <strong>Virtual Private Pi-Holed Network</strong>!</p>
<h3> </h3>
            ]]>
        </content>
    </entry>
</feed>
